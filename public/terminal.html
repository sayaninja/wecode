<!DOCTYPE html>
<html>
<head>
     <script src='javascripts/lib/hterm_all.js'></script>
</head>
<body>
<div id="terminal"
     style="position:absolute; width:100%; height:100%"></div>
<script>
     hterm.defaultStorage = new lib.Storage.Local();
     // opt_profileName is the name of the terminal profile to load, or "default" if
     // not specified.  If you're using one of the persistent storage
     // implementations then this will scope all preferences read/writes to this
     // name.
     var t = new hterm.Terminal();

     t.onTerminalReady = function() {

          // Create a new terminal IO object and give it the foreground.
          // (The default IO object just prints warning messages about unhandled
          // things to the the JS console.)
          var io = t.io.push();

          io.onVTKeystroke = function(str) {
               // Do something useful with str here.
               // For example, Secure Shell forwards the string onto the NaCl plugin.
               t.io.print(str);
               console.log(str);
          };

          io.sendString = function(str) {
               // Just like a keystroke, except str was generated by the
               // terminal itself.
               // Most likely you'll do the same this as onVTKeystroke.
               console.log(str);
          };

          io.onTerminalResize = function(columns, rows) {
               // React to size changes here.
               // Secure Shell pokes at NaCl, which eventually results in
               // some ioctls on the host.
          };

          // You can call io.push() to foreground a fresh io context, which can
          // be uses to give control of the terminal to something else.  When that
          // thing is complete, should call io.pop() to restore control to the
          // previous io object.
     };
     t.decorate(document.querySelector('#terminal'));
</script>
</body>
</html>